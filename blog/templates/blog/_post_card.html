{% load static %}
<div class="col-md-12">
  <div class="card shadow-sm border-0">
    <div class="row g-0">

     <div class="col-md-4">
        <a href="{% url 'post_detail' post.slug %}">
          {% if post.cover %}
            <img src="{{ post.cover.url }}" class="img-fluid rounded-start" 
                 alt="{{ post.cover_alt|default:post.title }}" 
                 style="object-fit: cover; width: 100%; height: 230px;">
          {% else %}
            <img src="{% static 'images/default_post.png' %}" class="img-fluid rounded-start" 
                 alt="{{ post.title }}" 
                 style="object-fit: cover; width: 100%; height: 230px;">
          {% endif %}
        </a>
      </div>

      <div class="col-md-8 d-flex flex-column p-3">
        <h3 class="card-title">
          <a href="{% url 'post_detail' post.slug %}" 
             class="text-decoration-none" style="color: #6F5643;">
            {{ post.title }}
          </a>
        </h3>

        <small class="text-muted d-block mb-2">
          {{ post.created_at.date }} | Categories:
          {% for category in post.categories.all %}
            <a href="{% url 'post_category' category.slug %}" class="category-chip">
              {{ category.name }}
            </a>
          {% endfor %}
        </small>

        <p class="card-text">{{ post.excerpt|default:post.body|truncatechars:220 }}</p>

        {% if post.tags.exists %}
        <div class="mt-auto"> 
            {% for tag in post.tags.all %}
                <a href="{% url 'post_tag' tag.slug %}" 
                   class="text-decoration-none me-1">
                    #{{ tag.name }}
                </a>
            {% endfor %}
        </div>
        {% endif %}
      </div> 

    </div> <!-- closes row -->
  </div> <!-- closes card -->
</div> <!-- closes col-md-12 -->

