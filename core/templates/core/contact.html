{% extends "base_fullwidth.html" %}
{% load static %}

{% block content %}

<!-- Success Alert -->
{% comment %} {% if messages %}
  <div class="position-fixed top-0 start-50 translate-middle-x mt-3" style="z-index: 1050; max-width: 400px;">
    {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show shadow-lg rounded" role="alert">
        <strong>{{ message }}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  </div>
{% endif %} {% endcomment %}

<!-- Hero / Image Banner Section -->
<section class="hero-banner position-relative" style="height: 400px; overflow: hidden;">
    <!-- Image -->
    <img src="{% static 'images/contact_banner.jpg' %}" 
         alt="Contact Banner" 
         class="w-100 h-100 hero-img"
         style="object-fit: cover; object-position: center 65%;">

    <!-- Dark overlay for readability -->
    <div class="position-absolute top-0 start-0 w-100 h-100" 
         style="background: rgba(0,0,0,0.35);"></div>

    <!-- Text -->
    <div class="hero-text position-absolute top-50 start-50 translate-middle text-white text-center">
        <h1 class="display-4 fw-bold">Get in Touch</h1>
        <p class="lead">Have a question or want to collaborate? Send me a message!</p>
    </div>
</section>

<!-- Contact Form Section -->
<section class="my-5">
  <div class="container">
    <div class="row align-items-start justify-content-center">
      
      <!-- Left side: CTA -->
      <div class="col-lg-6 mb-4 mb-lg-0">
        <h2 class="fw-bold mb-3" style="color: #73BDAB;">Let’s Connect</h2>

        {% if social_links %}
            <p class="lead" style="color: #6F5643;">
                I’m always open to new ideas, collaborations, or just meeting like-minded people.  
                Feel free to connect or follow me on these platforms:
            </p>
            <ul class="list-unstyled mt-4">
                {% for link in social_links %}
                <li class="mb-2">
                    <i class="{{ link.icon_class }}" style="color: #CC6B49;"></i>
                    <a href="{{ link.url }}" class="ms-2 fw-semibold" style="color: #CC6B49;">
                        {{ link.get_platform_display }}
                    </a>
                </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="lead" style="color: #6F5643;">
                I’m always open to new ideas, collaborations, or just meeting like-minded people.  
                Feel free to reach out via any way that works for you.
            </p>
        {% endif %}
      </div>

      <!-- Right side: Form -->
      <div class="col-lg-6">
        <div class="p-4 rounded" style="background-color: #F9F6EF; border: 1px solid #E0D9C8;">
          <h4 class="fw-bold mb-3" style="color: #6F5643;">Send me a message</h4>
          <form method="post">
            {% csrf_token %}
            <div class="mb-3">
              <label for="id_name" class="form-label" style="color: #6F5643;">Name</label>
              <input type="text" name="name" id="id_name" class="form-control" placeholder="Your Name" required>
            </div>
            <div class="mb-3">
              <label for="id_email" class="form-label" style="color: #6F5643;">Email</label>
              <input type="email" name="email" id="id_email" class="form-control" placeholder="Your Email" required>
            </div>
            <div class="mb-3">
              <label for="id_message" class="form-label" style="color: #6F5643;">Message</label>
              <textarea name="message" id="id_message" rows="5" class="form-control" placeholder="Write your message..." required></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100 w-md-auto">Send Message</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Zoom-out Animation Script -->
<style>
.hero-img {
    transform: scale(1);              
    transition: transform 18s ease-out;  
}

.hero-img.loaded {
    transform: scale(1.2);                
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const img = document.querySelector('.hero-img');
    if(img) {
        requestAnimationFrame(() => {
            img.classList.add('loaded');
        });
    }
});
</script>

{% endblock %}
