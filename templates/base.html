{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" type="image/png" sizes="48x48" href="{% static 'images/favicon-48x48.png' %}">
  {% comment %} <link rel="icon" type="image/png" sizes="96x96" href="{% static 'images/favicon-96x96.png' %}"> {% endcomment %}
  <title>{% block title %}My Blog{% endblock %}</title>

  <!-- Bootstrap CSS (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">


<!-- Bootstrap Icons CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Prism.js CSS for Code Highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Manrope:wght@200..800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Manrope:wght@200..800&family=VT323&display=swap" rel="stylesheet">
  <!-- Base CSS -->
  <link rel="stylesheet" href="{% static 'css/base.css' %}">

  <style>
    /* small niceties for TOC and article */
    .toc {
      position: sticky;
      top: 1rem;
      max-height: calc(100vh - 2rem);
      overflow:auto;
      padding: .75rem;
      border: 1px solid #e6e6e6;
      background: #f8f9fa;
      border-radius: .375rem;
    }
    .toc a { text-decoration: none; display:block; padding: 2px 0; }
    .toc .active { font-weight: 600; }
    .article h2 { scroll-margin-top: 90px; }
    .article h3 { scroll-margin-top: 80px; }
    .cover-img { max-height: 360px; object-fit: cover; width: 100%; border-radius: .25rem; }
  </style>

  {% block extra_head %}{% endblock %}
</head>
<body>

<!-- Navbar -->
{% include "includes/navbar.html" %}

<!-- Layout Wrappers -->
<main>
  <!-- Full-width section (no padding, for hero or banners) -->
  <div class="layout-full">
    {% block fullwidth_content %}{% endblock %}
  </div>

  <!-- Regular container (for most pages) -->
  <div class="layout-contained container my-3">
    {% if messages %}
      <div class="mb-3">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}

    {% block content %}{% endblock %}
  </div>
</main>

<!-- Container -->
{% comment %} <main class="container my-3">
  {% if messages %}
    <div class="mb-3">
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}

  {% block content %}{% endblock %}
</main> {% endcomment %}

<!-- Footer -->
{% include "includes/footer.html" %}


<!-- Bootstrap JS (popper included) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-html.min.js"></script>
<script src="{% static 'js/main.js' %}"></script>
<script>
function acceptCookies() {
  localStorage.setItem("cookieConsent", "accepted");
  document.getElementById("cookie-banner").style.display = "none";
}

function openCookieModal() {
  document.getElementById("cookie-modal").style.display = "flex";
}

function savePreferences() {
  const analytics = document.getElementById("analytics").checked;
  const marketing = document.getElementById("marketing").checked;
  localStorage.setItem("cookiePreferences", JSON.stringify({ analytics, marketing }));
  document.getElementById("cookie-modal").style.display = "none";
  document.getElementById("cookie-banner").style.display = "none";
}

window.onload = function() {
  if (!localStorage.getItem("cookieConsent")) {
    document.getElementById("cookie-banner").style.display = "flex";
  }
};

</script>

{% block extra_js %}{% endblock %}

<!-- Cookie Consent Banner -->
{% comment %} <div id="cookie-banner" class="cookie-banner">
  <p>
    üç™ We use cookies to improve your experience. By using this site, you agree to our 
    <a href="{% url 'privacy_policy' %}" class="text-decoration-underline">Privacy Policy</a>.
  </p>
  <div class="cookie-buttons">
    <button onclick="acceptCookies()" class="btn btn-sm btn-success me-2">Accept</button>
    <button onclick="openCookieModal()" class="btn btn-sm btn-outline-light">Manage Preferences</button>
  </div>
</div> {% endcomment %}

<!-- Cookie Settings Modal -->
{% comment %} <div id="cookie-modal" class="cookie-modal">
  <div class="cookie-modal-content">
    <h5>Cookie Preferences</h5>
    <p>You can choose which cookies to allow:</p>
    <form id="cookie-form">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="essential" checked disabled>
        <label class="form-check-label" for="essential">Essential cookies (required)</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="analytics">
        <label class="form-check-label" for="analytics">Analytics cookies</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="marketing">
        <label class="form-check-label" for="marketing">Marketing cookies</label>
      </div>
      <button type="button" onclick="savePreferences()" class="btn btn-primary mt-3">Save Preferences</button>
    </form>
  </div>
</div> {% endcomment %}
</body>
</html>
